<div class="modal-header">
  <i class="fa fa-user-check"></i>
  <h5 class="modal-title">{{ title }}!</h5>

  <button
    type="button"
    class="close"
    aria-label="Close"
    (click)="activeModal.close(isSuccessful)"
  >
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div class="modal-body">
  <form [formGroup]="changeRoleForm" (ngSubmit)="onSubmit()" novalidate>
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text" id="basic-addon3">Name:</span>
      </div>
      <input type="text" class="form-control" value="{{ uname }}" />
      <div class="input-group-prepend">
        <span class="input-group-text" id="basic-addon3">User Id:</span>
      </div>
      <input
        tabindex="1"
        id="userId"
        type="text"
        value="{{ id }}"
        class="form-control"
      />
    </div>
    <div class="form-group">
      <label for="roleId" class="control-label">Select Role to Change:</label>
    </div>
    <div class="input-group mb-3">
      <select
        id="roleId"
        name="roleId"
        formControlName="roleId"
        class="form-select"
        [selectedIndex]="1"
        [class.ng-invalid]="roleId?.invalid"
      >
        <option *ngFor="let item of rolesList" value="{{ item.Id }}">
          {{ item.Name }}
        </option>
      </select>
      <button type="submit" class="btn btn-success">Submit</button>
    </div>
  </form>
</div>

<div class="modal-footer">
  <div
    style="width: 100% !important"
    class="text-danger"
    *ngIf="!changeRoleForm.valid"
    [ngClass]="{ hidden: changeRoleForm.valid }"
  >
    <p *ngIf="id == null">User ID is required</p>
    <p *ngIf="roleId.errors?.['required']">Role is required</p>
  </div>
  <div
    class="alert alert-danger"
    *ngIf="isSignUpFailed"
    style="width: 100% !important"
  >
    {{ errorMessage }}
  </div>
  <div
    class="alert alert-success"
    *ngIf="isSuccessful"
    style="width: 100% !important"
  >
    {{ errorMessage }}
  </div>
</div>
